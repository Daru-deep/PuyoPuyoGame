制作期間　2025年9月から11月現在まで

## 製作動機
動機としては非常に軽く、次に何作ろうかなって思っていた時期に、人から「パズルゲーム一本作るとプログラミングの理解度が一気に上がるよ」と言われたことを思い出したことでした。  
実際、求められるレベル感はそれなりに高く、作り終わったころにはゲームプログラマーとしてレベルアップしたのが実感できました。  

## 学んだこと（コルーチン・設計面）  
正直、白状すると、一度完成としたものはいわゆる「奇跡的に動いている」状態のものでした    
というのも、無限ループし続けるコルーチンが、永遠にスタートされ続けていました。  
それでも当時は、なぜか想定通り動いていて、見た目的には問題ない状態でした。  
しかしその歪は、ストラテジーゲームを作成し、成長した私がポートフォリオ用に「スタート」と「ゲームオーバー」を作成したときに発露されました。  
ゲームが止まらなかったりようやく止まったとおもったら、連鎖の挙動がおかしくなったり自分の設計の甘さに呆れました。  
具体的いうと、連鎖処理や落下処理を複数のコルーチンからバラバラに呼び出していたため、  **落下が二重に実行される・空中で止まる** といったバグが発生しました。  
  
原因を調べる中で、「連鎖中にどの処理が動いているのか」「いつ入力や落下を止めるべきか」を一箇所で管理できていないことが問題だと気付きました。  

対応として、連鎖に関係する処理（**消去 → 落下 → 再判定**）を**`ResolveChains()` コルーチンに一本化**  
ゲーム開始／停止も `StartControl(bool enter)` にまとめ、**コルーチンの開始・停止の入り口を一つに整理**  

これにより、実行中の状態が追いやすくなり、コルーチン二重起動による不具合を解消できました。  

この経験から、  **「処理をバラバラに足していくのではなく、ひとつの流れとして設計すること」** の重要さを学びました。  
具体的には、最初にある程度の構想を作っておくことや、作業が中断される際は、明日への引き継ぎを行うことで、自分の考えがリセットされないようにするといった習慣をつけるようにしました。  
行き当たりばったり、ダメ、絶対  
 
## 学んだこと (Vector2Int・キュー)
Vector2Intやキューを利用したデータの保存について学びました。
これ、最初から知ってたらもっと楽だったと感じ悔しかったです。
Vector2Intについては、この変数だけで座標が管理できるし、キューについても、tmpをいちいち複雑なコードで作らなくてよかったんですよね。
Unityの良いところは良いライブラリがいっぱいあるところだなと思いました。
